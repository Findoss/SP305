# [Messenger](https://obscure-journey-22389.herokuapp.com/)

[https://obscure-journey-22389.herokuapp.com/](https://obscure-journey-22389.herokuapp.com/)

## Замечания для ревью

- Рендр компонентов не оптимален
- Запросы на бэк не оптимальны (без кэша, без стора)
- типы для апи - названия плохие (надо было давать по сущностям)
- страница с чатами - слишком большая, по хорошему надо разнести логику по дочерним компонентам
- нет удаления/архивирования чата
- перемудрил с подписками на вебсокеты (надо было больше уделить времени)

## Нарисован с щепоткой магии

[Вот что получилось - дизайн в figma](https://www.figma.com/proto/mUP7cfOp31SqrgHVCl4mOi/Untitled?node-id=7%3A321&scaling=min-zoom)

## Помочь проекту можно, но не обязательно

Установка для разработки

```
git clone https://github.com/aengorg/mf.messenger.praktikum.yandex.git

cd mf.messenger.praktikum.yandex/

npm install
```

Запуск для разработки

```
npm run dev
```

```
open http://localhost:9000
```

Публикация на Heroku

```
heroku login
heroku container:login
heroku container:push web --app obscure-journey-22389
heroku container:release web --app obscure-journey-22389
```

## История

### Спринт 4

[+] Настройте Webpack в вашем проекте.  
[+] Настройте loader для работы с TypeScript.  
[+] Настройте loader для работы с вашим препроцессором и шаблонизатором.  
[+] Настройте Docker-сборку статического приложения.  
[+] Добавьте ESLint.  
[-] Настройте precommit на проект.  
[+] Проведите аудит пакетов, обновите их и приведите в актуальное и безопасное состояние.  
[+] Подключите WebSocket для работы с real-time сообщениями.  
[-] Добавьте production-сборку с дополнительными конфигурациями terser-плагина (для минификации кода).  
[+] Напишите свой собственный лоадер или плагин.

### Спринт 3

[+] Добавьте класс для работы с запросами.  
[+] Добавьте работу с query string в GET-запросе и с body для других методов.  
[+] Добавьте роутинг в проект.  
[+] Реализуйте роутер для регистрации роутов.  
[+] Напишите тесты для шаблонизатора, роутера, компонента, модуля отправки запросов и все утилиты из проекта.  
[+] Напишите авторизацию в полном объеме (регистрация, авторизация, выход из системы).  
[+] Напишите работу с информацией пользователя (изменять данные пользователя, изменять аватар, изменять пароль).  
[+] Напишите работу с чатами (список чатов пользователя, создать новый чат, добавить пользователя в чат, удалить пользователя из чата).  
[+] Проверьте, что ваш проект защищён от XSS и DOS.  
[+] Выберите препроцессор или настройте PostCSS. Перепишите все стили на выбранном инструменте.  
[-] Реализуйте в проекте собственную сортировку, стек и очередь вместо использования стандартных sort, array.  
[+] Настройте CSP (Content Security Policy) для статики в Express.  
[+] Настройте защиту от всех уязвимостей по OWASP Top-10.

### Спринт 2

[+] Подключите шаблонизатор к проекту  
[+] Сделайте все страницы на основе шаблонизатора. Все свёрстанные страницы переложите на него.  
[+] Разбейте все страницы, утилиты на модули.
[+] Внедрите TypeScript в проект.  
[+] Напишите скрипт для компилирования сразу всех \*.ts файлов.  
[+] Добавьте компонентный подход в проект.  
[+] Используйте шаблонизатор, реализацию блока и шину событий.  
[+] Разделите проект на папки с компонентами и страницами.  
[+] Добавьте валидацию на все формы.  
[+] Используйте кнопку во всех страницах, где она нужна.  
[+] Генерация страниц должна происходить на стороне клиента.  
[+] Структурируйте проект в соответствии с советами по архитектуре.  
[+] Настройте правильные экспорты и импорты.  
[+] Декомпозируйте и максимально уменьшите связность.  
[+] Сделайте отдельный модуль и шаблон для кнопки.  
[+] Сделайте отдельный модуль и шаблон для инпутов.  
[+] Сделайте отдельный модуль и шаблон для аватаров.  
[+] Сделайте отдельный модуль и шаблон для заголовков.  
[+] Поставьте strict mode режим в tsconfig.json и уберите все any.

### Спринт 1

[+] Настройте Express-сервер с раздачей статики.  
[+] Настройте Netlify.  
[+] Нарисуйте прототипы экранов.  
[+] Сверстайте страницы всех отрисованных от руки прототипов экранов.  
[+] Сделайте сбор данных из формы.

## Сделано

Никита Строганов
